(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=r(12115);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=l(e,n)),t&&(a.current=l(t,n))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6723:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(31291).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},14846:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(31291).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},31291:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(12115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:c,iconNode:d,...f}=e;return(0,n.createElement)("svg",{ref:t,...s,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:l("lucide",u),...f},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:o,...u}=r;return(0,n.createElement)(i,{ref:s,iconNode:t,className:l("lucide-".concat(a(e)),o),...u})});return r.displayName="".concat(e),r}},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},54476:(e,t,r)=>{Promise.resolve().then(r.bind(r,54581))},54581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(95155),a=r(6723);let l=(0,r(31291).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var s=r(14846),i=r(6874),o=r.n(i),u=r(12115),c=r(35695),d=r(56104),f=r(46151),h=r(83065);function m(e){let{children:t}=e,r=(0,c.useRouter)(),[i,m]=(0,u.useState)("loading");(0,u.useEffect)(()=>{let e=(0,f.hg)(d.j2,async e=>{e&&"admin"===await (0,h.u)(e.uid)?m("authorized"):m("unauthorized")});return()=>e()},[]);let p=async()=>{await d.j2.signOut(),r.push("/welcome")};return"loading"===i?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,n.jsx)(a.A,{className:"h-12 w-12 animate-spin text-primary"})}):"authorized"!==i?(r.replace("/login"),null):(0,n.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,n.jsx)("main",{className:"flex-1 pb-24",children:t}),(0,n.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t z-50",children:(0,n.jsxs)("div",{className:"flex justify-around items-center h-16",children:[(0,n.jsxs)(o(),{href:"/admin",className:"flex flex-col items-center gap-1 text-primary",children:[(0,n.jsx)(l,{}),(0,n.jsx)("span",{className:"text-xs",children:"Admin"})]}),(0,n.jsxs)("button",{onClick:p,className:"flex flex-col items-center gap-1 text-gray-500",children:[(0,n.jsx)(s.A,{}),(0,n.jsx)("span",{className:"text-xs",children:"D\xe9connexion"})]})]})})]})}},56104:(e,t,r)=>{"use strict";let n,a,l,s,i;r.d(t,{IG:()=>s,db:()=>l,hJ:()=>i,j2:()=>a});var o=r(49868),u=r(46151),c=r(7334),d=r(46068);n=0===(0,o.Dk)().length?(0,o.Wp)({apiKey:"AIzaSyDhJXy_8JJ89CUMhj8iyldXvps_H5R7AHI",authDomain:"fithelath.firebaseapp.com",projectId:"fithelath",storageBucket:"fithelath.firebasestorage.app",messagingSenderId:"98685881966",appId:"1:98685881966:web:99d8147fde3b9b5847a07f"}):(0,o.Sx)(),a=(0,u.xI)(n),(0,u.oM)(a,u.F0).catch(e=>{console.error("Firebase persistence error:",e)}),l=(0,c.aU)(n),s=(0,d.c7)(n),i=new u.HF},83065:(e,t,r)=>{"use strict";r.d(t,{u:()=>l});var n=r(7334),a=r(56104);async function l(e){if(!e)return"unknown";for(let t of(console.log(e),[{name:"admins",role:"admin"},{name:"caterers",role:"caterer"},{name:"deliveryPeople",role:"delivery"},{name:"users",role:"client"}])){console.log("hiiiiiii");try{let r=(0,n.H9)(a.db,t.name,e);if((await (0,n.x7)(r)).exists())return console.log(t.role),t.role}catch(e){if("permission-denied"!==e.code)return console.error("Error checking role in '".concat(t.name,"':"),e),"unknown";console.log("hello");continue}}return"error"}}},e=>{var t=t=>e(e.s=t);e.O(0,[310,1951,4595,6874,8441,1684,7358],()=>t(54476)),_N_E=e.O()}]);
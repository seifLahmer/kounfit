(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6401],{13676:(e,t,r)=>{Promise.resolve().then(r.bind(r,42943))},17313:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>n});var a=r(95155),s=r(12115),i=r(5936),l=r(59434);let n=i.bL,d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});d.displayName=i.B8.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});o.displayName=i.l9.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});c.displayName=i.UC.displayName},20969:(e,t,r)=>{"use strict";r.d(t,{Kv:()=>c,L$:()=>o,Vd:()=>d,vr:()=>u,wH:()=>n});var a=r(7334),s=r(56104),i=r(22024);let l="orders";async function n(e){let t=(0,a.wP)(s.db);try{let r=[...new Set(e.items.map(e=>e.catererId))],n=e.items.map(e=>({mealId:e.mealId,mealName:e.mealName,quantity:e.quantity,unitPrice:e.unitPrice,catererId:e.catererId,imageUrl:e.imageUrl})),d=e.items.map(e=>{let{mealId:t,mealName:r,quantity:a,unitPrice:s,catererId:i,...l}=e;return l}),o={...e,items:n,status:"pending",orderDate:(0,a.O5)(),deliveryDate:(0,a.O5)(),deliveryTime:35,catererIds:r},c=(0,a.H9)((0,a.rJ)(s.db,l));t.set(c,o);let u=(0,a.H9)(s.db,"users",e.clientId),m=new Date().toISOString().split("T")[0];t.update(u,{["dailyIntake.".concat(m)]:(0,a.hq)(...d)}),await t.commit();let f="Vous avez une nouvelle commande #".concat(c.id.substring(0,5)," de ").concat(e.clientName,".");for(let e of r)await (0,i.UI)(e,f);return c.id}catch(e){throw console.error("Error placing order: ",e),Error("Could not place the order.")}}async function d(){try{let e=(0,a.rJ)(s.db,l),t=(0,a.P)(e,(0,a.My)("orderDate","desc")),r=await (0,a.GG)(t),i=[];return r.forEach(e=>{let t=e.data(),r={id:e.id,...t,orderDate:t.orderDate instanceof a.Dc?t.orderDate.toDate():new Date,deliveryDate:t.deliveryDate instanceof a.Dc?t.deliveryDate.toDate():new Date};i.push(r)}),i}catch(e){throw console.error("Error fetching all orders: ",e),Error("Could not fetch orders.")}}async function o(e){try{let t=(0,a.rJ)(s.db,l),r=(0,a.P)(t,(0,a._M)("catererIds","array-contains",e)),i=await (0,a.GG)(r),n=[];return i.forEach(e=>{let t=e.data(),r={id:e.id,...t,orderDate:t.orderDate instanceof a.Dc?t.orderDate.toDate():new Date,deliveryDate:t.deliveryDate instanceof a.Dc?t.deliveryDate.toDate():new Date};n.push(r)}),n.sort((e,t)=>t.orderDate.getTime()-e.orderDate.getTime()),n}catch(e){throw console.error("Error fetching orders by caterer: ",e),Error("Could not fetch orders.")}}async function c(e,t,r){let n=(0,a.H9)(s.db,l,e);try{let s=await (0,a.x7)(n);if(!s.exists())throw Error("Order not found.");let l=s.data(),d={status:t};"ready_for_delivery"===t&&r&&(d.deliveryPersonId=r),"delivered"===t&&(d.deliveryDate=(0,a.O5)()),await (0,a.mZ)(n,d);let o={in_preparation:"est en cours de pr\xe9paration",ready_for_delivery:"est pr\xeate et a \xe9t\xe9 assign\xe9e \xe0 un livreur.",delivered:"a \xe9t\xe9 livr\xe9e",cancelled:"a \xe9t\xe9 annul\xe9e"};if(t in o){let r="Votre commande #".concat(e.substring(0,5),"... ").concat(o[t],".");await (0,i.UI)(l.clientId,r)}if("ready_for_delivery"===t&&r){let t="Une nouvelle livraison vous a \xe9t\xe9 assign\xe9e : Commande #".concat(e.substring(0,5),"...");await (0,i.UI)(r,t)}}catch(e){throw console.error("Error updating order status: ",e),Error("Could not update the order status.")}}async function u(e,t){if(!t||0===t.length)return[];try{let r=(0,a.rJ)(s.db,l),i=(0,a.P)(r,(0,a._M)("deliveryPersonId","==",e),(0,a._M)("status","in",t)),n=await (0,a.GG)(i),d=[];return n.forEach(e=>{let t=e.data();d.push({id:e.id,...t,orderDate:t.orderDate instanceof a.Dc?t.orderDate.toDate():new Date,deliveryDate:t.deliveryDate instanceof a.Dc?t.deliveryDate.toDate():new Date})}),d.sort((e,t)=>t.orderDate.getTime()-e.orderDate.getTime()),d}catch(e){throw console.error("Error fetching 'my deliveries':",e),Error("Could not fetch assigned deliveries.")}}},22024:(e,t,r)=>{"use strict";r.d(t,{Tr:()=>n,UI:()=>l,bA:()=>d});var a=r(7334),s=r(56104);let i="notifications";async function l(e,t){try{await (0,a.gS)((0,a.rJ)(s.db,i),{userId:e,message:t,isRead:!1,createdAt:(0,a.O5)()})}catch(e){console.error("Error creating notification: ",e)}}async function n(e){try{let t=(0,a.rJ)(s.db,i),r=(0,a.P)(t,(0,a._M)("userId","==",e)),l=await (0,a.GG)(r),n=[];return l.forEach(e=>{let t=e.data();n.push({id:e.id,...t,createdAt:t.createdAt instanceof a.Dc?t.createdAt.toDate():new Date})}),n.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()),n.slice(0,20)}catch(e){throw console.error("Error fetching notifications: ",e),Error("Could not fetch notifications.")}}async function d(e){try{let t=(0,a.H9)(s.db,i,e);await (0,a.mZ)(t,{isRead:!0})}catch(e){throw console.error("Error marking notification as read: ",e),Error("Could not update the notification.")}}},22346:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var a=r(95155),s=r(12115),i=r(75638),l=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:n=!0,...d}=e;return(0,a.jsx)(i.b,{ref:t,decorative:n,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...d})});n.displayName=i.b.displayName},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var a=r(95155);r(12115);var s=r(63999),i=r(59434);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:r}),t),...s})}},36465:(e,t,r)=>{"use strict";r.d(t,{P:()=>c,TH:()=>n,p:()=>o,xY:()=>l,z7:()=>d});var a=r(7334),s=r(56104);let i="deliveryPeople";async function l(e){try{let t=(0,a.H9)(s.db,i,e.uid);await (0,a.BN)(t,{...e,role:"delivery",status:e.status||"pending"})}catch(e){throw console.error("Error adding delivery person: ",e),Error("Could not add the delivery person.")}}async function n(e,t){try{let r=(0,a.H9)(s.db,i,e);await (0,a.mZ)(r,t)}catch(e){throw console.error("Error updating delivery person profile: ",e),Error("Could not update delivery person profile.")}}async function d(){try{return(await (0,a.GG)((0,a.rJ)(s.db,i))).docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("Error fetching all delivery people:",e),Error("Could not fetch delivery people.")}}async function o(){try{let e=(0,a.P)((0,a.rJ)(s.db,i),(0,a._M)("status","==","pending"));return(await (0,a.GG)(e)).docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("Error fetching pending delivery people:",e),Error("Could not fetch pending delivery people.")}}async function c(e,t){try{let r=(0,a.H9)(s.db,i,e);await (0,a.mZ)(r,{status:t})}catch(e){throw console.error("Error updating delivery person status:",e),Error("Could not update delivery person status.")}}},42943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var a=r(95155),s=r(12115),i=r(30285),l=r(66695),n=r(41630),d=r(19249),o=r(10081),c=r(22318),u=r(6723),m=r(27136),f=r(81804),p=r(68938),h=r(6844),x=r(20969),g=r(36465),v=r(56104),y=r(87481),j=r(66766),N=r(59409),b=r(90010),w=r(54165),D=r(26126),E=r(7334),C=r(17313),k=r(91394),A=r(35695),_=r(22346),R=r(59434);function I(){let[e,t]=(0,s.useState)(null),[r,I]=(0,s.useState)([]),[P,z]=(0,s.useState)([]),[L,S]=(0,s.useState)([]),[U,G]=(0,s.useState)(null),[H,O]=(0,s.useState)(!0),[T,M]=(0,s.useState)(null),[V,$]=(0,s.useState)([]),[q,J]=(0,s.useState)(!1),{toast:Z}=(0,y.dj)(),F=(0,A.useRouter)(),B=(0,s.useCallback)(async()=>{let e=v.j2.currentUser;if(e){O(!0);try{let r=(0,E.H9)(v.db,"caterers",e.uid),a=await (0,E.x7)(r);if(!a.exists())throw Error("Profil traiteur non trouv\xe9.");let s=a.data();t(s);let[i,l,n]=await Promise.all([(0,h.qs)(e.uid),(0,x.L$)(e.uid),(0,g.z7)()]);I(i),z(l);let d=s.preferredDeliveryPeople||[],o=n.filter(e=>d.includes(e.uid)&&"approved"===e.status);S(o)}catch(e){Z({title:"Erreur",description:e.message||"Impossible de charger vos donn\xe9es.",variant:"destructive"})}finally{O(!1)}}},[Z]);(0,s.useEffect)(()=>{let e=v.j2.onAuthStateChanged(e=>{e&&B()});return()=>e()},[B]);let K=async e=>{if(e)try{await (0,h.rr)(e.id,e.imageRef),Z({title:"Repas supprim\xe9",description:"".concat(e.name," a \xe9t\xe9 retir\xe9.")}),B()}catch(e){Z({title:"Erreur",description:"Impossible de supprimer le repas.",variant:"destructive"})}},Y=async(e,t,r)=>{try{await (0,x.Kv)(e,t,r),z(a=>a.map(a=>a.id===e?{...a,status:t,deliveryPersonId:r}:a)),Z({title:"Statut mis \xe0 jour",description:'La commande est maintenant "'.concat(t,'".')})}catch(e){Z({title:"Erreur",description:"Impossible de mettre \xe0 jour le statut.",variant:"destructive"})}},X=e=>{if(!U)return void Z({title:"Aucun livreur s\xe9lectionn\xe9",description:"Veuillez choisir un livreur.",variant:"destructive"});Y(e,"ready_for_delivery",U),G(null)},W=async e=>{J(!0),$([]),M(e);try{let t=e.items.map(e=>(0,h.Cy)(e.mealId)),r=(await Promise.all(t)).reduce((t,r,a)=>{if(r){let s=e.items[a];t.push({...r,quantity:(null==s?void 0:s.quantity)||0})}return t},[]);$(r)}catch(e){Z({title:"Erreur",description:"Impossible de charger les d\xe9tails de la commande.",variant:"destructive"})}finally{J(!1)}},{pendingOrders:Q,inPreparationOrders:ee,readyForDeliveryOrders:et,deliveredOrders:er}=(0,s.useMemo)(()=>({pendingOrders:P.filter(e=>"pending"===e.status),inPreparationOrders:P.filter(e=>"in_preparation"===e.status),readyForDeliveryOrders:P.filter(e=>"ready_for_delivery"===e.status),deliveredOrders:P.filter(e=>"delivered"===e.status)}),[P]),ea=e=>{let{order:t}=e,r="pending"===t.status;return(0,a.jsx)(l.Zp,{onClick:()=>r&&W(t),className:(0,R.cn)("w-64 shrink-0 shadow-lg transition-transform duration-300",r&&"hover:scale-105 cursor-pointer"),children:(0,a.jsxs)(l.Wu,{className:"p-4 space-y-3 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(k.eu,{children:[(0,a.jsx)(k.BK,{src:"https://placehold.co/40x40.png"}),(0,a.jsx)(k.q5,{children:t.clientName.charAt(0)})]}),(0,a.jsx)("span",{className:"font-semibold",children:t.clientName})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mt-0.5 shrink-0"}),(0,a.jsx)("span",{children:t.deliveryAddress})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground min-h-[40px] border-t pt-2",children:t.items.slice(0,2).map((e,t)=>(0,a.jsxs)("p",{children:[e.quantity,"x ",e.mealName]},"".concat(e.mealId,"-").concat(t)))}),"pending"===t.status&&(0,a.jsx)(D.E,{variant:"secondary",children:"\xc0 pr\xe9parer"}),"in_preparation"===t.status&&(0,a.jsx)(D.E,{className:"bg-blue-100 text-blue-800",children:"En cours"}),"ready_for_delivery"===t.status&&(0,a.jsx)(D.E,{className:"bg-yellow-100 text-yellow-800",children:"Pr\xeat"}),"delivered"===t.status&&(0,a.jsxs)(D.E,{className:"bg-green-100 text-green-800 flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"})," Livr\xe9e"]}),(0,a.jsxs)("p",{className:"font-bold text-lg mt-auto",children:[t.totalPrice.toFixed(2)," DT"]}),(0,a.jsx)(()=>{switch(t.status){case"pending":return(0,a.jsx)(i.$,{onClick:e=>{e.stopPropagation(),Y(t.id,"in_preparation")},className:"w-full bg-primary hover:bg-primary/90 text-white rounded-lg",children:"Pr\xe9parer"});case"in_preparation":return(0,a.jsxs)(w.lG,{onOpenChange:e=>!e&&G(null),children:[(0,a.jsx)(w.zM,{asChild:!0,children:(0,a.jsx)(i.$,{onClick:e=>e.stopPropagation(),className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Pr\xeat (Choisir livreur)"})}),(0,a.jsxs)(w.Cf,{children:[(0,a.jsxs)(w.c7,{children:[(0,a.jsx)(w.L3,{children:"Assigner un livreur"}),(0,a.jsxs)(w.rr,{children:["Choisissez un livreur pour la commande #",t.id.substring(0,5),"."]})]}),L.length>0?(0,a.jsxs)(N.l6,{onValueChange:G,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"S\xe9lectionner un livreur..."})}),(0,a.jsx)(N.gC,{children:L.map(e=>(0,a.jsxs)(N.eb,{value:e.uid,children:[e.name," (",e.vehicleType,")"]},e.uid))})]}):(0,a.jsxs)("div",{className:"text-sm text-muted-foreground text-center py-4",children:[(0,a.jsx)("p",{children:"Aucun livreur pr\xe9f\xe9r\xe9 trouv\xe9."}),(0,a.jsx)(i.$,{variant:"link",onClick:()=>F.push("/caterer/profile"),children:"G\xe9rer ma liste de livreurs"})]}),(0,a.jsx)(w.Es,{children:(0,a.jsx)(w.HM,{asChild:!0,children:(0,a.jsxs)(i.$,{onClick:()=>X(t.id),disabled:!U||0===L.length,children:[(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4"})," Assigner"]})})})]})]});case"ready_for_delivery":return(0,a.jsx)(i.$,{disabled:!0,className:"w-full bg-yellow-500 text-white rounded-lg",children:"En attente du livreur"});default:return null}},{})]})})};return(0,a.jsxs)(w.lG,{open:!!T,onOpenChange:e=>!e&&M(null),children:[(0,a.jsxs)("div",{className:"bg-primary",children:[(0,a.jsxs)("header",{className:"p-2 flex justify-between items-center text-white border-b border-white/20",children:[(0,a.jsx)(j.default,{src:"/kounfit/kounfit white.png",alt:"Kounfit Logo",width:120,height:30}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(c.A,{})})]}),(0,a.jsxs)("main",{className:"bg-white p-4 space-y-6 rounded-t-3xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Interface Traiteur"}),(0,a.jsxs)(C.tU,{defaultValue:"commandes",children:[(0,a.jsxs)(C.j7,{className:"grid w-full grid-cols-2 bg-gray-200 rounded-full",children:[(0,a.jsx)(C.Xi,{value:"commandes",className:"rounded-full data-[state=active]:bg-primary data-[state=active]:text-white",children:"Commandes"}),(0,a.jsx)(C.Xi,{value:"repas",className:"rounded-full data-[state=active]:bg-primary data-[state=active]:text-white",children:"Mes Repas"})]}),(0,a.jsx)(C.av,{value:"commandes",className:"space-y-6 pt-4",children:H?(0,a.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,a.jsx)(u.A,{className:"animate-spin text-primary"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\xc0 pr\xe9parer"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:Q.length>0?Q.map(e=>(0,a.jsx)(ea,{order:e},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune commande \xe0 pr\xe9parer."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"En cours"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:ee.length>0?ee.map(e=>(0,a.jsx)(ea,{order:e},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune commande en cours."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Pr\xeates"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:et.length>0?et.map(e=>(0,a.jsx)(ea,{order:e},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune commande pr\xeate."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Livr\xe9es"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:er.length>0?er.map(e=>(0,a.jsx)(ea,{order:e},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune commande livr\xe9e."})})]})]})}),(0,a.jsxs)(C.av,{value:"repas",className:"space-y-4 pt-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Mes Repas (",r.length,")"]}),H?(0,a.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,a.jsx)(u.A,{className:"animate-spin text-primary"})}):(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:r.map(e=>(0,a.jsxs)(l.Zp,{className:"space-y-2",children:[(0,a.jsx)(j.default,{src:e.imageUrl,alt:e.name,width:200,height:120,className:"rounded-t-lg object-cover w-full h-24","data-ai-hint":"caterer meal"}),(0,a.jsxs)(l.Wu,{className:"p-2",children:[(0,a.jsx)("h4",{className:"font-semibold truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm font-bold",children:[e.price.toFixed(2)," DT"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.calories," kcal"]}),(0,a.jsxs)("div",{className:"flex justify-end items-center mt-1",children:[(0,a.jsxs)(b.Lt,{children:[(0,a.jsx)(b.tv,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,a.jsx)(m.A,{className:"w-4 h-4 text-destructive"})})}),(0,a.jsxs)(b.EO,{children:[(0,a.jsxs)(b.wd,{children:[(0,a.jsx)(b.r7,{children:"\xcates-vous s\xfbr ?"}),(0,a.jsxs)(b.$v,{children:['Cette action est irr\xe9versible et supprimera le repas "',e.name,'".']})]}),(0,a.jsxs)(b.ck,{children:[(0,a.jsx)(b.Zr,{children:"Annuler"}),(0,a.jsx)(b.Rx,{onClick:()=>K(e),className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,a.jsx)(f.A,{className:"w-4 h-4"})})]})]})]},e.id))}),(0,a.jsxs)(i.$,{className:"w-full bg-secondary hover:bg-secondary/90 text-white rounded-lg h-12",onClick:()=>F.push("/caterer/meal-ai"),children:[(0,a.jsx)(p.A,{className:"mr-2"})," Ajouter un repas"]})]})]})]})]}),T&&(0,a.jsxs)(w.Cf,{className:"max-h-[80svh] overflow-y-auto",children:[(0,a.jsxs)(w.c7,{children:[(0,a.jsxs)(w.L3,{children:["D\xe9tails de la Commande #",T.id.substring(0,5)]}),(0,a.jsx)(w.rr,{children:"Liste des repas et ingr\xe9dients pour la pr\xe9paration."})]}),q?(0,a.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,a.jsx)(u.A,{className:"w-8 h-8 animate-spin text-primary"})}):(0,a.jsx)("div",{className:"space-y-4",children:V.map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg text-primary",children:[e.quantity,"x ",e.name]}),(0,a.jsx)("div",{className:"pl-4 border-l-2 border-primary/50 space-y-1 text-sm",children:e.ingredients.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[e.grams,"g"]})]},"".concat(e.name,"-").concat(t)))}),(0,a.jsx)(_.w,{className:"my-2"})]},e.id))})]})]})}},54165:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>f,Es:()=>h,HM:()=>u,L3:()=>x,c7:()=>p,lG:()=>d,rr:()=>g,zM:()=>o});var a=r(95155),s=r(12115),i=r(63309),l=r(65581),n=r(59434);let d=i.bL,o=i.l9,c=i.ZL,u=i.bm,m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});m.displayName=i.hJ.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...d,children:[s,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=i.UC.displayName;let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};p.displayName="DialogHeader";let h=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});x.displayName=i.hE.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});g.displayName=i.VY.displayName},90010:(e,t,r)=>{"use strict";r.d(t,{$v:()=>x,EO:()=>m,Lt:()=>d,Rx:()=>g,Zr:()=>v,ck:()=>p,r7:()=>h,tv:()=>o,wd:()=>f});var a=r(95155),s=r(12115),i=r(46328),l=r(59434),n=r(30285);let d=i.bL,o=i.l9,c=i.ZL,u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});u.displayName=i.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(i.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]})});m.displayName=i.UC.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};f.displayName="AlertDialogHeader";let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};p.displayName="AlertDialogFooter";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold",r),...s})});h.displayName=i.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});x.displayName=i.VY.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.rc,{ref:t,className:(0,l.cn)((0,n.r)(),r),...s})});g.displayName=i.rc.displayName;let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.ZD,{ref:t,className:(0,l.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",r),...s})});v.displayName=i.ZD.displayName},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>d,eu:()=>n,q5:()=>o});var a=r(95155),s=r(12115),i=r(95419),l=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});n.displayName=i.bL.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...s})});d.displayName=i._V.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});o.displayName=i.H4.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[310,1951,4595,8561,6766,9247,4734,5637,3699,6328,8984,322,8441,1684,7358],()=>t(13676)),_N_E=e.O()}]);